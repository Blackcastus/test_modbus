ARM GAS  /tmp/ccypDOJO.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"kalman_filter.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.Simple_Kalman_Filter,"ax",%progbits
  16              		.align	1
  17              		.global	Simple_Kalman_Filter
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	Simple_Kalman_Filter:
  25              	.LVL0:
  26              	.LFB197:
  27              		.file 1 "User/Math/kalman_filter.c"
   1:User/Math/kalman_filter.c **** /*
   2:User/Math/kalman_filter.c **** * @Author: nhantt
   3:User/Math/kalman_filter.c **** * @Date:   2019-12-13
   4:User/Math/kalman_filter.c **** * @Last Modified by:   nhantt
   5:User/Math/kalman_filter.c **** * @Last Modified time: 2019-12-13
   6:User/Math/kalman_filter.c **** */
   7:User/Math/kalman_filter.c **** 
   8:User/Math/kalman_filter.c **** #include "kalman_filter.h"
   9:User/Math/kalman_filter.c **** 
  10:User/Math/kalman_filter.c **** void Simple_Kalman_Filter(Kalman_filter_TypeDef *kalman, float mea_e, float est_e, float q)
  11:User/Math/kalman_filter.c **** {
  28              		.loc 1 11 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  12:User/Math/kalman_filter.c **** 	kalman->_err_measure = mea_e;
  33              		.loc 1 12 2 view .LVU1
  34              		.loc 1 12 23 is_stmt 0 view .LVU2
  35 0000 0160     		str	r1, [r0]	@ float
  13:User/Math/kalman_filter.c **** 	kalman->_err_estimate = est_e;
  36              		.loc 1 13 2 is_stmt 1 view .LVU3
  37              		.loc 1 13 24 is_stmt 0 view .LVU4
  38 0002 4260     		str	r2, [r0, #4]	@ float
  14:User/Math/kalman_filter.c **** 	kalman->_q = q;
  39              		.loc 1 14 2 is_stmt 1 view .LVU5
  40              		.loc 1 14 13 is_stmt 0 view .LVU6
  41 0004 8360     		str	r3, [r0, #8]	@ float
  15:User/Math/kalman_filter.c **** }
  42              		.loc 1 15 1 view .LVU7
  43 0006 7047     		bx	lr
ARM GAS  /tmp/ccypDOJO.s 			page 2


  44              		.cfi_endproc
  45              	.LFE197:
  47              		.global	__aeabi_fadd
  48              		.global	__aeabi_fdiv
  49              		.global	__aeabi_fsub
  50              		.global	__aeabi_fmul
  51              		.global	__aeabi_f2d
  52              		.global	__aeabi_dsub
  53              		.global	__aeabi_dmul
  54              		.global	__aeabi_dadd
  55              		.global	__aeabi_d2f
  56              		.section	.text.Update_Estimate,"ax",%progbits
  57              		.align	1
  58              		.global	Update_Estimate
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  62              		.fpu softvfp
  64              	Update_Estimate:
  65              	.LVL1:
  66              	.LFB198:
  16:User/Math/kalman_filter.c **** 
  17:User/Math/kalman_filter.c **** float Update_Estimate(Kalman_filter_TypeDef *kalman, float mea)
  18:User/Math/kalman_filter.c **** {
  67              		.loc 1 18 1 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71              		.loc 1 18 1 is_stmt 0 view .LVU9
  72 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
  73              	.LCFI0:
  74              		.cfi_def_cfa_offset 32
  75              		.cfi_offset 3, -32
  76              		.cfi_offset 4, -28
  77              		.cfi_offset 5, -24
  78              		.cfi_offset 6, -20
  79              		.cfi_offset 7, -16
  80              		.cfi_offset 8, -12
  81              		.cfi_offset 9, -8
  82              		.cfi_offset 14, -4
  83 0004 0446     		mov	r4, r0
  84 0006 0D46     		mov	r5, r1
  19:User/Math/kalman_filter.c **** 	kalman->_kalman_gain = kalman->_err_estimate/(kalman->_err_estimate + kalman->_err_measure);
  85              		.loc 1 19 2 is_stmt 1 view .LVU10
  86              		.loc 1 19 31 is_stmt 0 view .LVU11
  87 0008 D0F80490 		ldr	r9, [r0, #4]	@ float
  88              		.loc 1 19 70 view .LVU12
  89 000c 0168     		ldr	r1, [r0]	@ float
  90              	.LVL2:
  91              		.loc 1 19 70 view .LVU13
  92 000e 4846     		mov	r0, r9
  93              	.LVL3:
  94              		.loc 1 19 70 view .LVU14
  95 0010 FFF7FEFF 		bl	__aeabi_fadd
  96              	.LVL4:
  97 0014 0146     		mov	r1, r0
  98              		.loc 1 19 46 view .LVU15
ARM GAS  /tmp/ccypDOJO.s 			page 3


  99 0016 4846     		mov	r0, r9
 100 0018 FFF7FEFF 		bl	__aeabi_fdiv
 101              	.LVL5:
 102 001c 0646     		mov	r6, r0
 103              		.loc 1 19 23 view .LVU16
 104 001e 6061     		str	r0, [r4, #20]	@ float
  20:User/Math/kalman_filter.c **** 	kalman->_current_estimate = kalman->_last_estimate + kalman->_kalman_gain * (mea - kalman->_last_e
 105              		.loc 1 20 2 is_stmt 1 view .LVU17
 106              		.loc 1 20 36 is_stmt 0 view .LVU18
 107 0020 D4F81080 		ldr	r8, [r4, #16]	@ float
 108              		.loc 1 20 83 view .LVU19
 109 0024 4146     		mov	r1, r8
 110 0026 2846     		mov	r0, r5
 111 0028 FFF7FEFF 		bl	__aeabi_fsub
 112              	.LVL6:
 113 002c 0146     		mov	r1, r0
 114              		.loc 1 20 76 view .LVU20
 115 002e 3046     		mov	r0, r6
 116 0030 FFF7FEFF 		bl	__aeabi_fmul
 117              	.LVL7:
 118 0034 0146     		mov	r1, r0
 119              		.loc 1 20 53 view .LVU21
 120 0036 4046     		mov	r0, r8
 121 0038 FFF7FEFF 		bl	__aeabi_fadd
 122              	.LVL8:
 123 003c 0546     		mov	r5, r0
 124              	.LVL9:
 125              		.loc 1 20 28 view .LVU22
 126 003e E060     		str	r0, [r4, #12]	@ float
  21:User/Math/kalman_filter.c **** 	kalman->_err_estimate = (1.0 - kalman->_kalman_gain)*kalman->_err_estimate + fabs(kalman->_last_es
 127              		.loc 1 21 2 is_stmt 1 view .LVU23
 128              		.loc 1 21 39 is_stmt 0 view .LVU24
 129 0040 3046     		mov	r0, r6
 130 0042 FFF7FEFF 		bl	__aeabi_f2d
 131              	.LVL10:
 132 0046 0246     		mov	r2, r0
 133 0048 0B46     		mov	r3, r1
 134              		.loc 1 21 31 view .LVU25
 135 004a 0020     		movs	r0, #0
 136 004c 1749     		ldr	r1, .L4
 137 004e FFF7FEFF 		bl	__aeabi_dsub
 138              	.LVL11:
 139 0052 0646     		mov	r6, r0
 140 0054 0F46     		mov	r7, r1
 141              		.loc 1 21 61 view .LVU26
 142 0056 4846     		mov	r0, r9
 143 0058 FFF7FEFF 		bl	__aeabi_f2d
 144              	.LVL12:
 145 005c 0246     		mov	r2, r0
 146 005e 0B46     		mov	r3, r1
 147              		.loc 1 21 54 view .LVU27
 148 0060 3046     		mov	r0, r6
 149 0062 3946     		mov	r1, r7
 150 0064 FFF7FEFF 		bl	__aeabi_dmul
 151              	.LVL13:
 152 0068 0646     		mov	r6, r0
 153 006a 0F46     		mov	r7, r1
ARM GAS  /tmp/ccypDOJO.s 			page 4


 154              		.loc 1 21 107 view .LVU28
 155 006c 2946     		mov	r1, r5
 156 006e 4046     		mov	r0, r8
 157 0070 FFF7FEFF 		bl	__aeabi_fsub
 158              	.LVL14:
 159              		.loc 1 21 79 view .LVU29
 160 0074 20F00040 		bic	r0, r0, #-2147483648
 161 0078 FFF7FEFF 		bl	__aeabi_f2d
 162              	.LVL15:
 163 007c 8046     		mov	r8, r0
 164 007e 8946     		mov	r9, r1
 165              		.loc 1 21 142 view .LVU30
 166 0080 A068     		ldr	r0, [r4, #8]	@ float
 167 0082 FFF7FEFF 		bl	__aeabi_f2d
 168              	.LVL16:
 169 0086 0246     		mov	r2, r0
 170 0088 0B46     		mov	r3, r1
 171              		.loc 1 21 135 view .LVU31
 172 008a 4046     		mov	r0, r8
 173 008c 4946     		mov	r1, r9
 174 008e FFF7FEFF 		bl	__aeabi_dmul
 175              	.LVL17:
 176 0092 0246     		mov	r2, r0
 177 0094 0B46     		mov	r3, r1
 178              		.loc 1 21 77 view .LVU32
 179 0096 3046     		mov	r0, r6
 180 0098 3946     		mov	r1, r7
 181 009a FFF7FEFF 		bl	__aeabi_dadd
 182              	.LVL18:
 183 009e FFF7FEFF 		bl	__aeabi_d2f
 184              	.LVL19:
 185              		.loc 1 21 24 view .LVU33
 186 00a2 6060     		str	r0, [r4, #4]	@ float
  22:User/Math/kalman_filter.c **** 	kalman->_last_estimate = kalman->_current_estimate;
 187              		.loc 1 22 2 is_stmt 1 view .LVU34
 188              		.loc 1 22 25 is_stmt 0 view .LVU35
 189 00a4 2561     		str	r5, [r4, #16]	@ float
  23:User/Math/kalman_filter.c **** 
  24:User/Math/kalman_filter.c **** 	return kalman->_current_estimate;
 190              		.loc 1 24 2 is_stmt 1 view .LVU36
  25:User/Math/kalman_filter.c **** }
 191              		.loc 1 25 1 is_stmt 0 view .LVU37
 192 00a6 2846     		mov	r0, r5
 193 00a8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 194              	.LVL20:
 195              	.L5:
 196              		.loc 1 25 1 view .LVU38
 197              		.align	2
 198              	.L4:
 199 00ac 0000F03F 		.word	1072693248
 200              		.cfi_endproc
 201              	.LFE198:
 203              		.section	.text.Set_Measurement_Error,"ax",%progbits
 204              		.align	1
 205              		.global	Set_Measurement_Error
 206              		.syntax unified
 207              		.thumb
ARM GAS  /tmp/ccypDOJO.s 			page 5


 208              		.thumb_func
 209              		.fpu softvfp
 211              	Set_Measurement_Error:
 212              	.LVL21:
 213              	.LFB199:
  26:User/Math/kalman_filter.c **** 
  27:User/Math/kalman_filter.c **** void Set_Measurement_Error(Kalman_filter_TypeDef *kalman, float mea_e)
  28:User/Math/kalman_filter.c **** {
 214              		.loc 1 28 1 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		@ link register save eliminated.
  29:User/Math/kalman_filter.c **** 	kalman->_err_measure = mea_e;
 219              		.loc 1 29 2 view .LVU40
 220              		.loc 1 29 23 is_stmt 0 view .LVU41
 221 0000 0160     		str	r1, [r0]	@ float
  30:User/Math/kalman_filter.c **** }
 222              		.loc 1 30 1 view .LVU42
 223 0002 7047     		bx	lr
 224              		.cfi_endproc
 225              	.LFE199:
 227              		.section	.text.Set_Estimate_Error,"ax",%progbits
 228              		.align	1
 229              		.global	Set_Estimate_Error
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu softvfp
 235              	Set_Estimate_Error:
 236              	.LVL22:
 237              	.LFB200:
  31:User/Math/kalman_filter.c **** 
  32:User/Math/kalman_filter.c **** void Set_Estimate_Error(Kalman_filter_TypeDef *kalman, float est_e)
  33:User/Math/kalman_filter.c **** {
 238              		.loc 1 33 1 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 0
 241              		@ frame_needed = 0, uses_anonymous_args = 0
 242              		@ link register save eliminated.
  34:User/Math/kalman_filter.c **** 	kalman->_err_estimate = est_e;
 243              		.loc 1 34 2 view .LVU44
 244              		.loc 1 34 24 is_stmt 0 view .LVU45
 245 0000 4160     		str	r1, [r0, #4]	@ float
  35:User/Math/kalman_filter.c **** }
 246              		.loc 1 35 1 view .LVU46
 247 0002 7047     		bx	lr
 248              		.cfi_endproc
 249              	.LFE200:
 251              		.section	.text.Set_Process_Noise,"ax",%progbits
 252              		.align	1
 253              		.global	Set_Process_Noise
 254              		.syntax unified
 255              		.thumb
 256              		.thumb_func
 257              		.fpu softvfp
 259              	Set_Process_Noise:
ARM GAS  /tmp/ccypDOJO.s 			page 6


 260              	.LVL23:
 261              	.LFB201:
  36:User/Math/kalman_filter.c **** 
  37:User/Math/kalman_filter.c **** void Set_Process_Noise(Kalman_filter_TypeDef *kalman, float q)
  38:User/Math/kalman_filter.c **** {
 262              		.loc 1 38 1 is_stmt 1 view -0
 263              		.cfi_startproc
 264              		@ args = 0, pretend = 0, frame = 0
 265              		@ frame_needed = 0, uses_anonymous_args = 0
 266              		@ link register save eliminated.
  39:User/Math/kalman_filter.c **** 	kalman->_q = q;
 267              		.loc 1 39 2 view .LVU48
 268              		.loc 1 39 13 is_stmt 0 view .LVU49
 269 0000 8160     		str	r1, [r0, #8]	@ float
  40:User/Math/kalman_filter.c **** }
 270              		.loc 1 40 1 view .LVU50
 271 0002 7047     		bx	lr
 272              		.cfi_endproc
 273              	.LFE201:
 275              		.section	.text.Get_Kalman_Gain,"ax",%progbits
 276              		.align	1
 277              		.global	Get_Kalman_Gain
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu softvfp
 283              	Get_Kalman_Gain:
 284              	.LVL24:
 285              	.LFB202:
  41:User/Math/kalman_filter.c **** 
  42:User/Math/kalman_filter.c **** float Get_Kalman_Gain(Kalman_filter_TypeDef *kalman)
  43:User/Math/kalman_filter.c **** {
 286              		.loc 1 43 1 is_stmt 1 view -0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 0
 289              		@ frame_needed = 0, uses_anonymous_args = 0
 290              		@ link register save eliminated.
  44:User/Math/kalman_filter.c **** 	return kalman->_kalman_gain;
 291              		.loc 1 44 2 view .LVU52
  45:User/Math/kalman_filter.c **** }
 292              		.loc 1 45 1 is_stmt 0 view .LVU53
 293 0000 4069     		ldr	r0, [r0, #20]	@ float
 294              	.LVL25:
 295              		.loc 1 45 1 view .LVU54
 296 0002 7047     		bx	lr
 297              		.cfi_endproc
 298              	.LFE202:
 300              		.section	.text.Get_EstimateError,"ax",%progbits
 301              		.align	1
 302              		.global	Get_EstimateError
 303              		.syntax unified
 304              		.thumb
 305              		.thumb_func
 306              		.fpu softvfp
 308              	Get_EstimateError:
 309              	.LVL26:
 310              	.LFB203:
ARM GAS  /tmp/ccypDOJO.s 			page 7


  46:User/Math/kalman_filter.c **** 
  47:User/Math/kalman_filter.c **** float Get_EstimateError(Kalman_filter_TypeDef *kalman)
  48:User/Math/kalman_filter.c **** {
 311              		.loc 1 48 1 is_stmt 1 view -0
 312              		.cfi_startproc
 313              		@ args = 0, pretend = 0, frame = 0
 314              		@ frame_needed = 0, uses_anonymous_args = 0
 315              		@ link register save eliminated.
  49:User/Math/kalman_filter.c **** 	return kalman->_err_estimate;
 316              		.loc 1 49 2 view .LVU56
  50:User/Math/kalman_filter.c **** }
 317              		.loc 1 50 1 is_stmt 0 view .LVU57
 318 0000 4068     		ldr	r0, [r0, #4]	@ float
 319              	.LVL27:
 320              		.loc 1 50 1 view .LVU58
 321 0002 7047     		bx	lr
 322              		.cfi_endproc
 323              	.LFE203:
 325              		.text
 326              	.Letext0:
 327              		.file 2 "User/Math/kalman_filter.h"
 328              		.file 3 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 329              		.file 4 "<built-in>"
ARM GAS  /tmp/ccypDOJO.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 kalman_filter.c
     /tmp/ccypDOJO.s:16     .text.Simple_Kalman_Filter:0000000000000000 $t
     /tmp/ccypDOJO.s:24     .text.Simple_Kalman_Filter:0000000000000000 Simple_Kalman_Filter
     /tmp/ccypDOJO.s:57     .text.Update_Estimate:0000000000000000 $t
     /tmp/ccypDOJO.s:64     .text.Update_Estimate:0000000000000000 Update_Estimate
     /tmp/ccypDOJO.s:199    .text.Update_Estimate:00000000000000ac $d
     /tmp/ccypDOJO.s:204    .text.Set_Measurement_Error:0000000000000000 $t
     /tmp/ccypDOJO.s:211    .text.Set_Measurement_Error:0000000000000000 Set_Measurement_Error
     /tmp/ccypDOJO.s:228    .text.Set_Estimate_Error:0000000000000000 $t
     /tmp/ccypDOJO.s:235    .text.Set_Estimate_Error:0000000000000000 Set_Estimate_Error
     /tmp/ccypDOJO.s:252    .text.Set_Process_Noise:0000000000000000 $t
     /tmp/ccypDOJO.s:259    .text.Set_Process_Noise:0000000000000000 Set_Process_Noise
     /tmp/ccypDOJO.s:276    .text.Get_Kalman_Gain:0000000000000000 $t
     /tmp/ccypDOJO.s:283    .text.Get_Kalman_Gain:0000000000000000 Get_Kalman_Gain
     /tmp/ccypDOJO.s:301    .text.Get_EstimateError:0000000000000000 $t
     /tmp/ccypDOJO.s:308    .text.Get_EstimateError:0000000000000000 Get_EstimateError

UNDEFINED SYMBOLS
__aeabi_fadd
__aeabi_fdiv
__aeabi_fsub
__aeabi_fmul
__aeabi_f2d
__aeabi_dsub
__aeabi_dmul
__aeabi_dadd
__aeabi_d2f
