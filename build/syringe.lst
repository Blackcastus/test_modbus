ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"syringe.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.PUMP_Init,"ax",%progbits
  18              		.align	1
  19              		.global	PUMP_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	PUMP_Init:
  25              	.LVL0:
  26              	.LFB65:
  27              		.file 1 "Core/Src/syringe.c"
   1:Core/Src/syringe.c **** /*
   2:Core/Src/syringe.c **** 	* @Author: nhantt
   3:Core/Src/syringe.c **** 	* @Date:   2020-07-01
   4:Core/Src/syringe.c **** 	* @Last Modified by:   nhantt
   5:Core/Src/syringe.c **** 	* @Last Modified time: 2020-07-01
   6:Core/Src/syringe.c **** 	* @This file is driver control Syringe Pumps
   7:Core/Src/syringe.c **** */
   8:Core/Src/syringe.c **** #include "syringe.h"
   9:Core/Src/syringe.c **** #include "usart.h"
  10:Core/Src/syringe.c **** #include "string.h"
  11:Core/Src/syringe.c **** 
  12:Core/Src/syringe.c **** static uint8_t defBufCmd[8] = {0xCC, 0x00, 0x27, 0x00, 0x00, 0xDD, 0xD0, 0x01};
  13:Core/Src/syringe.c **** static uint8_t defBufFac[14] = {0xCC, 0x00, 0x00, 0xFF, 0xEE, 0xBB, 0xAA, 0x00, 0x00, 0x00, 0x00, 0
  14:Core/Src/syringe.c **** /* Send Command 8 Byte Desc */
  15:Core/Src/syringe.c **** /*
  16:Core/Src/syringe.c **** 	// 0xCC, 0x00, 0x27, 0x00, 0x00, 0xDD, 0xD0, 0x01
  17:Core/Src/syringe.c **** 	// 0	->	CC is start code
  18:Core/Src/syringe.c **** 	// 1	->	00 is addr
  19:Core/Src/syringe.c **** 	// 2	->	27 is command
  20:Core/Src/syringe.c **** 	// 3~4	->	00, 00 is command parameters 
  21:Core/Src/syringe.c **** 	// 5	->	DD is end code
  22:Core/Src/syringe.c **** 	// 7~8	->	checksum CC+00+27+00+00+DD = 01D0 -> D0,01
  23:Core/Src/syringe.c **** */
  24:Core/Src/syringe.c **** 
  25:Core/Src/syringe.c **** /* Send Command 14 Byte Desc */
  26:Core/Src/syringe.c **** /*
  27:Core/Src/syringe.c **** 	// 0xCC, 0x00, 0x00, 0xFF, 0xEE, 0xBB, 0xAA, 0x00, 0x00, 0x00, 0x00, 0xDD, 0xFB, 0x04}
  28:Core/Src/syringe.c **** 	// 0		->	CC is start code
  29:Core/Src/syringe.c **** 	// 1		->	00 is addr
  30:Core/Src/syringe.c **** 	// 2		->	00 is command
  31:Core/Src/syringe.c **** 	// 3~6		->	FF EE BB AA password factory 
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 2


  32:Core/Src/syringe.c **** 	// 7~10		->	00 00 00 00 Parameters
  33:Core/Src/syringe.c **** 	// 11		-> 	DD is end code
  34:Core/Src/syringe.c **** 	// 12~13	->	checksum CC+00+00+FF+EE+BB+AA+00+00+00+00+DD = 04FB -> FB, 04
  35:Core/Src/syringe.c **** */
  36:Core/Src/syringe.c **** 
  37:Core/Src/syringe.c **** PUMP_STRUCT xylanh;
  38:Core/Src/syringe.c **** PUMP_STRUCT valve;
  39:Core/Src/syringe.c **** uint8_t u2_rxFlag;
  40:Core/Src/syringe.c **** uint32_t u2_rxTick;
  41:Core/Src/syringe.c **** ringbuf u2_rxRb;
  42:Core/Src/syringe.c **** uint8_t u2_rxRbBuf[128];
  43:Core/Src/syringe.c **** 
  44:Core/Src/syringe.c **** void PUMP_Init(PUMP_STRUCT *pump, uint8_t addr)
  45:Core/Src/syringe.c **** {
  28              		.loc 1 45 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 45 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  38 0002 0346     		mov	r3, r0
  46:Core/Src/syringe.c **** 	pump->addr = addr;
  39              		.loc 1 46 2 is_stmt 1 view .LVU2
  40              		.loc 1 46 13 is_stmt 0 view .LVU3
  41 0004 8446     		mov	ip, r0
  42 0006 0CF8011B 		strb	r1, [ip], #1
  47:Core/Src/syringe.c **** 	memcpy(pump->txbuf, defBufCmd, 8);
  43              		.loc 1 47 2 is_stmt 1 view .LVU4
  44 000a 094A     		ldr	r2, .L3
  45 000c 03CA     		ldmia	r2!, {r0, r1}
  46              	.LVL1:
  47              		.loc 1 47 2 is_stmt 0 view .LVU5
  48 000e C3F80100 		str	r0, [r3, #1]	@ unaligned
  49 0012 CCF80410 		str	r1, [ip, #4]	@ unaligned
  48:Core/Src/syringe.c **** 	pump->flag = 0;
  50              		.loc 1 48 2 is_stmt 1 view .LVU6
  51              		.loc 1 48 13 is_stmt 0 view .LVU7
  52 0016 0022     		movs	r2, #0
  53 0018 83F82220 		strb	r2, [r3, #34]
  49:Core/Src/syringe.c **** 	u2_rxFlag = 0;
  54              		.loc 1 49 2 is_stmt 1 view .LVU8
  55              		.loc 1 49 12 is_stmt 0 view .LVU9
  56 001c 054B     		ldr	r3, .L3+4
  57              	.LVL2:
  58              		.loc 1 49 12 view .LVU10
  59 001e 1A70     		strb	r2, [r3]
  60              	.LVL3:
  50:Core/Src/syringe.c **** 	ringbuf_init(&u2_rxRb, u2_rxRbBuf, sizeof(u2_rxRbBuf));
  61              		.loc 1 50 2 is_stmt 1 view .LVU11
  62 0020 8022     		movs	r2, #128
  63 0022 0549     		ldr	r1, .L3+8
  64 0024 0548     		ldr	r0, .L3+12
  65 0026 FFF7FEFF 		bl	ringbuf_init
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 3


  66              	.LVL4:
  51:Core/Src/syringe.c **** 	MX_USART2_UART_Init();
  67              		.loc 1 51 2 view .LVU12
  68 002a FFF7FEFF 		bl	MX_USART2_UART_Init
  69              	.LVL5:
  52:Core/Src/syringe.c **** }
  70              		.loc 1 52 1 is_stmt 0 view .LVU13
  71 002e 08BD     		pop	{r3, pc}
  72              	.L4:
  73              		.align	2
  74              	.L3:
  75 0030 00000000 		.word	.LANCHOR0
  76 0034 00000000 		.word	.LANCHOR1
  77 0038 00000000 		.word	.LANCHOR2
  78 003c 00000000 		.word	.LANCHOR3
  79              		.cfi_endproc
  80              	.LFE65:
  82              		.section	.text.CALC_CheckSum,"ax",%progbits
  83              		.align	1
  84              		.global	CALC_CheckSum
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
  89              	CALC_CheckSum:
  90              	.LVL6:
  91              	.LFB66:
  53:Core/Src/syringe.c **** 
  54:Core/Src/syringe.c **** uint16_t CALC_CheckSum(uint8_t *buffer, uint8_t length)
  55:Core/Src/syringe.c **** {
  92              		.loc 1 55 1 is_stmt 1 view -0
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 0
  95              		@ frame_needed = 0, uses_anonymous_args = 0
  96              		@ link register save eliminated.
  97              		.loc 1 55 1 is_stmt 0 view .LVU15
  98 0000 8446     		mov	ip, r0
  56:Core/Src/syringe.c ****   uint16_t sum = 0;
  99              		.loc 1 56 3 is_stmt 1 view .LVU16
 100              	.LVL7:
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 101              		.loc 1 57 3 view .LVU17
 102              	.LBB2:
 103              		.loc 1 57 7 view .LVU18
 104              		.loc 1 57 15 is_stmt 0 view .LVU19
 105 0002 0023     		movs	r3, #0
 106              	.LBE2:
  56:Core/Src/syringe.c ****   uint16_t sum = 0;
 107              		.loc 1 56 12 view .LVU20
 108 0004 1846     		mov	r0, r3
 109              	.LVL8:
 110              	.LBB3:
 111              		.loc 1 57 3 view .LVU21
 112 0006 05E0     		b	.L6
 113              	.LVL9:
 114              	.L7:
  58:Core/Src/syringe.c ****   {
  59:Core/Src/syringe.c ****     sum += buffer[i];
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 4


 115              		.loc 1 59 5 is_stmt 1 discriminator 3 view .LVU22
 116              		.loc 1 59 18 is_stmt 0 discriminator 3 view .LVU23
 117 0008 1CF80320 		ldrb	r2, [ip, r3]	@ zero_extendqisi2
 118              		.loc 1 59 9 discriminator 3 view .LVU24
 119 000c 1044     		add	r0, r0, r2
 120              	.LVL10:
 121              		.loc 1 59 9 discriminator 3 view .LVU25
 122 000e 80B2     		uxth	r0, r0
 123              	.LVL11:
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 124              		.loc 1 57 34 is_stmt 1 discriminator 3 view .LVU26
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 125              		.loc 1 57 35 is_stmt 0 discriminator 3 view .LVU27
 126 0010 0133     		adds	r3, r3, #1
 127              	.LVL12:
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 128              		.loc 1 57 35 discriminator 3 view .LVU28
 129 0012 DBB2     		uxtb	r3, r3
 130              	.LVL13:
 131              	.L6:
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 132              		.loc 1 57 22 is_stmt 1 discriminator 1 view .LVU29
  57:Core/Src/syringe.c ****   for(uint8_t i = 0; i < length; i++)
 133              		.loc 1 57 3 is_stmt 0 discriminator 1 view .LVU30
 134 0014 8B42     		cmp	r3, r1
 135 0016 F7D3     		bcc	.L7
 136              	.LBE3:
  60:Core/Src/syringe.c ****   }
  61:Core/Src/syringe.c ****   return sum;
 137              		.loc 1 61 3 is_stmt 1 view .LVU31
  62:Core/Src/syringe.c **** }
 138              		.loc 1 62 1 is_stmt 0 view .LVU32
 139 0018 7047     		bx	lr
 140              		.cfi_endproc
 141              	.LFE66:
 143              		.section	.text.PUMP_Tx,"ax",%progbits
 144              		.align	1
 145              		.global	PUMP_Tx
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 150              	PUMP_Tx:
 151              	.LVL14:
 152              	.LFB67:
  63:Core/Src/syringe.c **** 
  64:Core/Src/syringe.c **** void PUMP_Tx(PUMP_STRUCT *pump, uint8_t numByte)
  65:Core/Src/syringe.c **** {
 153              		.loc 1 65 1 is_stmt 1 view -0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              		.loc 1 65 1 is_stmt 0 view .LVU34
 158 0000 08B5     		push	{r3, lr}
 159              	.LCFI1:
 160              		.cfi_def_cfa_offset 8
 161              		.cfi_offset 3, -8
 162              		.cfi_offset 14, -4
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 5


 163 0002 0A46     		mov	r2, r1
  66:Core/Src/syringe.c ****   HAL_UART_Transmit(&huart2, pump->txbuf, numByte, 100);
 164              		.loc 1 66 3 is_stmt 1 view .LVU35
 165 0004 6423     		movs	r3, #100
 166 0006 411C     		adds	r1, r0, #1
 167              	.LVL15:
 168              		.loc 1 66 3 is_stmt 0 view .LVU36
 169 0008 0148     		ldr	r0, .L10
 170              	.LVL16:
 171              		.loc 1 66 3 view .LVU37
 172 000a FFF7FEFF 		bl	HAL_UART_Transmit
 173              	.LVL17:
  67:Core/Src/syringe.c **** }
 174              		.loc 1 67 1 view .LVU38
 175 000e 08BD     		pop	{r3, pc}
 176              	.L11:
 177              		.align	2
 178              	.L10:
 179 0010 00000000 		.word	huart2
 180              		.cfi_endproc
 181              	.LFE67:
 183              		.section	.text.PUMP_SendCmd8,"ax",%progbits
 184              		.align	1
 185              		.global	PUMP_SendCmd8
 186              		.syntax unified
 187              		.thumb
 188              		.thumb_func
 190              	PUMP_SendCmd8:
 191              	.LVL18:
 192              	.LFB68:
  68:Core/Src/syringe.c **** 
  69:Core/Src/syringe.c **** void PUMP_SendCmd8(PUMP_STRUCT *pump, uint8_t cmd, uint16_t param)
  70:Core/Src/syringe.c **** {
 193              		.loc 1 70 1 is_stmt 1 view -0
 194              		.cfi_startproc
 195              		@ args = 0, pretend = 0, frame = 0
 196              		@ frame_needed = 0, uses_anonymous_args = 0
 197              		.loc 1 70 1 is_stmt 0 view .LVU40
 198 0000 10B5     		push	{r4, lr}
 199              	.LCFI2:
 200              		.cfi_def_cfa_offset 8
 201              		.cfi_offset 4, -8
 202              		.cfi_offset 14, -4
 203 0002 0446     		mov	r4, r0
 204 0004 8C46     		mov	ip, r1
  71:Core/Src/syringe.c **** 	uint16_t checkSum;
 205              		.loc 1 71 2 is_stmt 1 view .LVU41
  72:Core/Src/syringe.c **** 	memcpy(pump->txbuf, defBufCmd, 8);
 206              		.loc 1 72 2 view .LVU42
 207 0006 0D4B     		ldr	r3, .L14
 208 0008 03CB     		ldmia	r3!, {r0, r1}
 209              	.LVL19:
 210              		.loc 1 72 2 is_stmt 0 view .LVU43
 211 000a C4F80100 		str	r0, [r4, #1]	@ unaligned
 212 000e C4F80510 		str	r1, [r4, #5]	@ unaligned
  73:Core/Src/syringe.c **** 	pump->txbuf[Stack_Addr] = pump->addr;
 213              		.loc 1 73 2 is_stmt 1 view .LVU44
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 6


 214              		.loc 1 73 32 is_stmt 0 view .LVU45
 215 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 216              		.loc 1 73 26 view .LVU46
 217 0014 A370     		strb	r3, [r4, #2]
  74:Core/Src/syringe.c **** 	pump->txbuf[Stack_Cmd] = cmd;
 218              		.loc 1 74 2 is_stmt 1 view .LVU47
 219              		.loc 1 74 25 is_stmt 0 view .LVU48
 220 0016 84F803C0 		strb	ip, [r4, #3]
  75:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param] = (uint8_t)(param);
 221              		.loc 1 75 2 is_stmt 1 view .LVU49
 222              		.loc 1 75 27 is_stmt 0 view .LVU50
 223 001a 2271     		strb	r2, [r4, #4]
  76:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param+1] = (uint8_t)(param>>8);
 224              		.loc 1 76 2 is_stmt 1 view .LVU51
 225              		.loc 1 76 31 is_stmt 0 view .LVU52
 226 001c 120A     		lsrs	r2, r2, #8
 227              	.LVL20:
 228              		.loc 1 76 29 view .LVU53
 229 001e 6271     		strb	r2, [r4, #5]
  77:Core/Src/syringe.c **** 	checkSum = CALC_CheckSum(&pump->txbuf, 6);
 230              		.loc 1 77 2 is_stmt 1 view .LVU54
 231              		.loc 1 77 13 is_stmt 0 view .LVU55
 232 0020 0621     		movs	r1, #6
 233 0022 601C     		adds	r0, r4, #1
 234 0024 FFF7FEFF 		bl	CALC_CheckSum
 235              	.LVL21:
  78:Core/Src/syringe.c **** 	pump->txbuf[Stack_CheckSum] = (uint8_t)checkSum;
 236              		.loc 1 78 2 is_stmt 1 view .LVU56
 237              		.loc 1 78 30 is_stmt 0 view .LVU57
 238 0028 E071     		strb	r0, [r4, #7]
  79:Core/Src/syringe.c **** 	pump->txbuf[Stack_CheckSum+1] = (uint8_t)(checkSum>>8);
 239              		.loc 1 79 2 is_stmt 1 view .LVU58
 240              		.loc 1 79 34 is_stmt 0 view .LVU59
 241 002a C0F30720 		ubfx	r0, r0, #8, #8
 242              	.LVL22:
 243              		.loc 1 79 32 view .LVU60
 244 002e 2072     		strb	r0, [r4, #8]
  80:Core/Src/syringe.c **** 	PUMP_Tx(pump, 8);
 245              		.loc 1 80 2 is_stmt 1 view .LVU61
 246 0030 0821     		movs	r1, #8
 247 0032 2046     		mov	r0, r4
 248 0034 FFF7FEFF 		bl	PUMP_Tx
 249              	.LVL23:
  81:Core/Src/syringe.c **** }
 250              		.loc 1 81 1 is_stmt 0 view .LVU62
 251 0038 10BD     		pop	{r4, pc}
 252              	.LVL24:
 253              	.L15:
 254              		.loc 1 81 1 view .LVU63
 255 003a 00BF     		.align	2
 256              	.L14:
 257 003c 00000000 		.word	.LANCHOR0
 258              		.cfi_endproc
 259              	.LFE68:
 261              		.section	.text.PUMP_SendCmd14,"ax",%progbits
 262              		.align	1
 263              		.global	PUMP_SendCmd14
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 7


 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 268              	PUMP_SendCmd14:
 269              	.LVL25:
 270              	.LFB69:
  82:Core/Src/syringe.c **** 
  83:Core/Src/syringe.c **** void PUMP_SendCmd14(PUMP_STRUCT *pump, uint8_t cmd, uint32_t param)
  84:Core/Src/syringe.c **** {
 271              		.loc 1 84 1 is_stmt 1 view -0
 272              		.cfi_startproc
 273              		@ args = 0, pretend = 0, frame = 0
 274              		@ frame_needed = 0, uses_anonymous_args = 0
 275              		.loc 1 84 1 is_stmt 0 view .LVU65
 276 0000 38B5     		push	{r3, r4, r5, lr}
 277              	.LCFI3:
 278              		.cfi_def_cfa_offset 16
 279              		.cfi_offset 3, -16
 280              		.cfi_offset 4, -12
 281              		.cfi_offset 5, -8
 282              		.cfi_offset 14, -4
 283 0002 0446     		mov	r4, r0
 284 0004 8C46     		mov	ip, r1
 285 0006 1346     		mov	r3, r2
  85:Core/Src/syringe.c **** 	uint16_t checkSum;
 286              		.loc 1 85 2 is_stmt 1 view .LVU66
  86:Core/Src/syringe.c **** 	memcpy(pump->txbuf, defBufFac, 14);
 287              		.loc 1 86 2 view .LVU67
 288 0008 124D     		ldr	r5, .L18
 289 000a 07CD     		ldmia	r5!, {r0, r1, r2}
 290              	.LVL26:
 291              		.loc 1 86 2 is_stmt 0 view .LVU68
 292 000c C4F80100 		str	r0, [r4, #1]	@ unaligned
 293 0010 C4F80510 		str	r1, [r4, #5]	@ unaligned
 294 0014 C4F80920 		str	r2, [r4, #9]	@ unaligned
 295 0018 2A88     		ldrh	r2, [r5]	@ unaligned
 296 001a A4F80D20 		strh	r2, [r4, #13]	@ unaligned
  87:Core/Src/syringe.c **** 	pump->txbuf[Stack_Addr] = pump->addr;
 297              		.loc 1 87 2 is_stmt 1 view .LVU69
 298              		.loc 1 87 32 is_stmt 0 view .LVU70
 299 001e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 300              		.loc 1 87 26 view .LVU71
 301 0020 A270     		strb	r2, [r4, #2]
  88:Core/Src/syringe.c **** 	pump->txbuf[Stack_Cmd] = cmd;
 302              		.loc 1 88 2 is_stmt 1 view .LVU72
 303              		.loc 1 88 25 is_stmt 0 view .LVU73
 304 0022 84F803C0 		strb	ip, [r4, #3]
  89:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param + 4] = (uint8_t)param;
 305              		.loc 1 89 2 is_stmt 1 view .LVU74
 306              		.loc 1 89 31 is_stmt 0 view .LVU75
 307 0026 2372     		strb	r3, [r4, #8]
  90:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param + 5] = (uint8_t)(param>>8);
 308              		.loc 1 90 2 is_stmt 1 view .LVU76
 309              		.loc 1 90 33 is_stmt 0 view .LVU77
 310 0028 C3F30722 		ubfx	r2, r3, #8, #8
 311              		.loc 1 90 31 view .LVU78
 312 002c 6272     		strb	r2, [r4, #9]
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 8


  91:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param + 6] = (uint8_t)(param>>16);
 313              		.loc 1 91 2 is_stmt 1 view .LVU79
 314              		.loc 1 91 33 is_stmt 0 view .LVU80
 315 002e C3F30742 		ubfx	r2, r3, #16, #8
 316              		.loc 1 91 31 view .LVU81
 317 0032 A272     		strb	r2, [r4, #10]
  92:Core/Src/syringe.c **** 	pump->txbuf[Stack_Param + 7] = (uint8_t)(param>>24);
 318              		.loc 1 92 2 is_stmt 1 view .LVU82
 319              		.loc 1 92 33 is_stmt 0 view .LVU83
 320 0034 1B0E     		lsrs	r3, r3, #24
 321              	.LVL27:
 322              		.loc 1 92 31 view .LVU84
 323 0036 E372     		strb	r3, [r4, #11]
  93:Core/Src/syringe.c **** 	checkSum = CALC_CheckSum(&pump->txbuf, 12);
 324              		.loc 1 93 2 is_stmt 1 view .LVU85
 325              		.loc 1 93 13 is_stmt 0 view .LVU86
 326 0038 0C21     		movs	r1, #12
 327 003a 601C     		adds	r0, r4, #1
 328 003c FFF7FEFF 		bl	CALC_CheckSum
 329              	.LVL28:
  94:Core/Src/syringe.c **** 	pump->txbuf[Stack_CheckSum + 6] = (uint8_t)checkSum;
 330              		.loc 1 94 2 is_stmt 1 view .LVU87
 331              		.loc 1 94 34 is_stmt 0 view .LVU88
 332 0040 6073     		strb	r0, [r4, #13]
  95:Core/Src/syringe.c **** 	pump->txbuf[Stack_CheckSum + 7] = (uint8_t)(checkSum>>8);
 333              		.loc 1 95 2 is_stmt 1 view .LVU89
 334              		.loc 1 95 36 is_stmt 0 view .LVU90
 335 0042 C0F30720 		ubfx	r0, r0, #8, #8
 336              	.LVL29:
 337              		.loc 1 95 34 view .LVU91
 338 0046 A073     		strb	r0, [r4, #14]
  96:Core/Src/syringe.c **** 	PUMP_Tx(pump, 14);
 339              		.loc 1 96 2 is_stmt 1 view .LVU92
 340 0048 0E21     		movs	r1, #14
 341 004a 2046     		mov	r0, r4
 342 004c FFF7FEFF 		bl	PUMP_Tx
 343              	.LVL30:
  97:Core/Src/syringe.c **** }
 344              		.loc 1 97 1 is_stmt 0 view .LVU93
 345 0050 38BD     		pop	{r3, r4, r5, pc}
 346              	.LVL31:
 347              	.L19:
 348              		.loc 1 97 1 view .LVU94
 349 0052 00BF     		.align	2
 350              	.L18:
 351 0054 00000000 		.word	.LANCHOR4
 352              		.cfi_endproc
 353              	.LFE69:
 355              		.section	.text.PUMP_ParserStack,"ax",%progbits
 356              		.align	1
 357              		.global	PUMP_ParserStack
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 362              	PUMP_ParserStack:
 363              	.LVL32:
 364              	.LFB70:
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 9


  98:Core/Src/syringe.c **** 
  99:Core/Src/syringe.c **** void PUMP_ParserStack(PUMP_STRUCT *pump)
 100:Core/Src/syringe.c **** {
 365              		.loc 1 100 1 is_stmt 1 view -0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              		@ link register save eliminated.
 101:Core/Src/syringe.c **** 	uint16_t _handleParameter;
 370              		.loc 1 101 2 view .LVU96
 102:Core/Src/syringe.c ****   	_handleParameter = pump->rxbuf[Stack_Param];
 371              		.loc 1 102 4 view .LVU97
 372              		.loc 1 102 21 is_stmt 0 view .LVU98
 373 0000 827C     		ldrb	r2, [r0, #18]	@ zero_extendqisi2
 374              	.LVL33:
 103:Core/Src/syringe.c ****   	_handleParameter <<= 8;
 375              		.loc 1 103 4 is_stmt 1 view .LVU99
 104:Core/Src/syringe.c ****   	_handleParameter |= pump->rxbuf[Stack_Param+1];
 376              		.loc 1 104 4 view .LVU100
 377              		.loc 1 104 35 is_stmt 0 view .LVU101
 378 0002 C37C     		ldrb	r3, [r0, #19]	@ zero_extendqisi2
 379              		.loc 1 104 21 view .LVU102
 380 0004 43EA0222 		orr	r2, r3, r2, lsl #8
 381              	.LVL34:
 105:Core/Src/syringe.c **** 	switch (pump->rxbuf[Stack_Cmd]) 
 382              		.loc 1 105 2 is_stmt 1 view .LVU103
 383              		.loc 1 105 21 is_stmt 0 view .LVU104
 384 0008 437C     		ldrb	r3, [r0, #17]	@ zero_extendqisi2
 385              		.loc 1 105 2 view .LVU105
 386 000a 042B     		cmp	r3, #4
 387 000c 06D8     		bhi	.L21
 388 000e 042B     		cmp	r3, #4
 389 0010 38D8     		bhi	.L22
 390 0012 DFE803F0 		tbb	[pc, r3]
 391              	.L24:
 392 0016 0E       		.byte	(.L28-.L24)/2
 393 0017 14       		.byte	(.L27-.L24)/2
 394 0018 1B       		.byte	(.L26-.L24)/2
 395 0019 22       		.byte	(.L25-.L24)/2
 396 001a 29       		.byte	(.L23-.L24)/2
 397 001b 00       		.p2align 1
 398              	.L21:
 399 001c FE2B     		cmp	r3, #254
 400 001e 2AD0     		beq	.L29
 401 0020 FF2B     		cmp	r3, #255
 402 0022 2FD1     		bne	.L22
 106:Core/Src/syringe.c **** 	{
 107:Core/Src/syringe.c **** 		case 0x00:
 108:Core/Src/syringe.c **** 			pump->state = NORMAL;
 109:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 110:Core/Src/syringe.c **** 			pump->flag = 0;
 111:Core/Src/syringe.c **** 			break;
 112:Core/Src/syringe.c **** 		case 0x01:
 113:Core/Src/syringe.c **** 			pump->state = FRAME_ERR;
 114:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 115:Core/Src/syringe.c **** 			pump->flag = 0;
 116:Core/Src/syringe.c **** 			break;
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 10


 117:Core/Src/syringe.c **** 		case 0x02:
 118:Core/Src/syringe.c **** 			pump->state = PARAM_ERR;
 119:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 120:Core/Src/syringe.c **** 			pump->flag = 0;
 121:Core/Src/syringe.c **** 			break;
 122:Core/Src/syringe.c **** 		case 0x03:
 123:Core/Src/syringe.c **** 			pump->state = OPTO_ERR;
 124:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 125:Core/Src/syringe.c **** 			pump->flag = 0;
 126:Core/Src/syringe.c **** 			break;
 127:Core/Src/syringe.c **** 		case 0x04:
 128:Core/Src/syringe.c **** 			pump->state = PUMP_BUSY;
 129:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 130:Core/Src/syringe.c **** 			pump->flag = 0;
 131:Core/Src/syringe.c **** 			break;
 132:Core/Src/syringe.c **** 		case 0xFE:
 133:Core/Src/syringe.c **** 			pump->state = SUSPENSION;
 134:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 135:Core/Src/syringe.c **** 			pump->flag = 0;
 136:Core/Src/syringe.c **** 			break;
 137:Core/Src/syringe.c **** 		case 0xFF:
 138:Core/Src/syringe.c **** 			pump->state = UNKNOWN_ERR;
 403              		.loc 1 138 4 is_stmt 1 view .LVU106
 404              		.loc 1 138 16 is_stmt 0 view .LVU107
 405 0024 FF23     		movs	r3, #255
 406 0026 8377     		strb	r3, [r0, #30]
 139:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 407              		.loc 1 139 4 is_stmt 1 view .LVU108
 408              		.loc 1 139 16 is_stmt 0 view .LVU109
 409 0028 0284     		strh	r2, [r0, #32]	@ movhi
 140:Core/Src/syringe.c **** 			pump->flag = 0;
 410              		.loc 1 140 4 is_stmt 1 view .LVU110
 411              		.loc 1 140 15 is_stmt 0 view .LVU111
 412 002a 0023     		movs	r3, #0
 413 002c 80F82230 		strb	r3, [r0, #34]
 141:Core/Src/syringe.c **** 			break;
 414              		.loc 1 141 4 is_stmt 1 view .LVU112
 415 0030 7047     		bx	lr
 416              	.L28:
 108:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 417              		.loc 1 108 4 view .LVU113
 108:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 418              		.loc 1 108 16 is_stmt 0 view .LVU114
 419 0032 0023     		movs	r3, #0
 420 0034 8377     		strb	r3, [r0, #30]
 109:Core/Src/syringe.c **** 			pump->flag = 0;
 421              		.loc 1 109 4 is_stmt 1 view .LVU115
 109:Core/Src/syringe.c **** 			pump->flag = 0;
 422              		.loc 1 109 16 is_stmt 0 view .LVU116
 423 0036 0284     		strh	r2, [r0, #32]	@ movhi
 110:Core/Src/syringe.c **** 			break;
 424              		.loc 1 110 4 is_stmt 1 view .LVU117
 110:Core/Src/syringe.c **** 			break;
 425              		.loc 1 110 15 is_stmt 0 view .LVU118
 426 0038 80F82230 		strb	r3, [r0, #34]
 111:Core/Src/syringe.c **** 		case 0x01:
 427              		.loc 1 111 4 is_stmt 1 view .LVU119
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 11


 428 003c 7047     		bx	lr
 429              	.L27:
 113:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 430              		.loc 1 113 4 view .LVU120
 113:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 431              		.loc 1 113 16 is_stmt 0 view .LVU121
 432 003e 0123     		movs	r3, #1
 433 0040 8377     		strb	r3, [r0, #30]
 114:Core/Src/syringe.c **** 			pump->flag = 0;
 434              		.loc 1 114 4 is_stmt 1 view .LVU122
 114:Core/Src/syringe.c **** 			pump->flag = 0;
 435              		.loc 1 114 16 is_stmt 0 view .LVU123
 436 0042 0284     		strh	r2, [r0, #32]	@ movhi
 115:Core/Src/syringe.c **** 			break;
 437              		.loc 1 115 4 is_stmt 1 view .LVU124
 115:Core/Src/syringe.c **** 			break;
 438              		.loc 1 115 15 is_stmt 0 view .LVU125
 439 0044 0023     		movs	r3, #0
 440 0046 80F82230 		strb	r3, [r0, #34]
 116:Core/Src/syringe.c **** 		case 0x02:
 441              		.loc 1 116 4 is_stmt 1 view .LVU126
 442 004a 7047     		bx	lr
 443              	.L26:
 118:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 444              		.loc 1 118 4 view .LVU127
 118:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 445              		.loc 1 118 16 is_stmt 0 view .LVU128
 446 004c 0223     		movs	r3, #2
 447 004e 8377     		strb	r3, [r0, #30]
 119:Core/Src/syringe.c **** 			pump->flag = 0;
 448              		.loc 1 119 4 is_stmt 1 view .LVU129
 119:Core/Src/syringe.c **** 			pump->flag = 0;
 449              		.loc 1 119 16 is_stmt 0 view .LVU130
 450 0050 0284     		strh	r2, [r0, #32]	@ movhi
 120:Core/Src/syringe.c **** 			break;
 451              		.loc 1 120 4 is_stmt 1 view .LVU131
 120:Core/Src/syringe.c **** 			break;
 452              		.loc 1 120 15 is_stmt 0 view .LVU132
 453 0052 0023     		movs	r3, #0
 454 0054 80F82230 		strb	r3, [r0, #34]
 121:Core/Src/syringe.c **** 		case 0x03:
 455              		.loc 1 121 4 is_stmt 1 view .LVU133
 456 0058 7047     		bx	lr
 457              	.L25:
 123:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 458              		.loc 1 123 4 view .LVU134
 123:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 459              		.loc 1 123 16 is_stmt 0 view .LVU135
 460 005a 0323     		movs	r3, #3
 461 005c 8377     		strb	r3, [r0, #30]
 124:Core/Src/syringe.c **** 			pump->flag = 0;
 462              		.loc 1 124 4 is_stmt 1 view .LVU136
 124:Core/Src/syringe.c **** 			pump->flag = 0;
 463              		.loc 1 124 16 is_stmt 0 view .LVU137
 464 005e 0284     		strh	r2, [r0, #32]	@ movhi
 125:Core/Src/syringe.c **** 			break;
 465              		.loc 1 125 4 is_stmt 1 view .LVU138
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 12


 125:Core/Src/syringe.c **** 			break;
 466              		.loc 1 125 15 is_stmt 0 view .LVU139
 467 0060 0023     		movs	r3, #0
 468 0062 80F82230 		strb	r3, [r0, #34]
 126:Core/Src/syringe.c **** 		case 0x04:
 469              		.loc 1 126 4 is_stmt 1 view .LVU140
 470 0066 7047     		bx	lr
 471              	.L23:
 128:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 472              		.loc 1 128 4 view .LVU141
 128:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 473              		.loc 1 128 16 is_stmt 0 view .LVU142
 474 0068 0423     		movs	r3, #4
 475 006a 8377     		strb	r3, [r0, #30]
 129:Core/Src/syringe.c **** 			pump->flag = 0;
 476              		.loc 1 129 4 is_stmt 1 view .LVU143
 129:Core/Src/syringe.c **** 			pump->flag = 0;
 477              		.loc 1 129 16 is_stmt 0 view .LVU144
 478 006c 0284     		strh	r2, [r0, #32]	@ movhi
 130:Core/Src/syringe.c **** 			break;
 479              		.loc 1 130 4 is_stmt 1 view .LVU145
 130:Core/Src/syringe.c **** 			break;
 480              		.loc 1 130 15 is_stmt 0 view .LVU146
 481 006e 0023     		movs	r3, #0
 482 0070 80F82230 		strb	r3, [r0, #34]
 131:Core/Src/syringe.c **** 		case 0xFE:
 483              		.loc 1 131 4 is_stmt 1 view .LVU147
 484 0074 7047     		bx	lr
 485              	.L29:
 133:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 486              		.loc 1 133 4 view .LVU148
 133:Core/Src/syringe.c **** 			pump->value = _handleParameter;
 487              		.loc 1 133 16 is_stmt 0 view .LVU149
 488 0076 FE23     		movs	r3, #254
 489 0078 8377     		strb	r3, [r0, #30]
 134:Core/Src/syringe.c **** 			pump->flag = 0;
 490              		.loc 1 134 4 is_stmt 1 view .LVU150
 134:Core/Src/syringe.c **** 			pump->flag = 0;
 491              		.loc 1 134 16 is_stmt 0 view .LVU151
 492 007a 0284     		strh	r2, [r0, #32]	@ movhi
 135:Core/Src/syringe.c **** 			break;
 493              		.loc 1 135 4 is_stmt 1 view .LVU152
 135:Core/Src/syringe.c **** 			break;
 494              		.loc 1 135 15 is_stmt 0 view .LVU153
 495 007c 0023     		movs	r3, #0
 496 007e 80F82230 		strb	r3, [r0, #34]
 136:Core/Src/syringe.c **** 		case 0xFF:
 497              		.loc 1 136 4 is_stmt 1 view .LVU154
 498 0082 7047     		bx	lr
 499              	.L22:
 142:Core/Src/syringe.c **** 		default:
 143:Core/Src/syringe.c **** 			pump->state = UNKNOWN_ERR;
 500              		.loc 1 143 4 view .LVU155
 501              		.loc 1 143 16 is_stmt 0 view .LVU156
 502 0084 FF23     		movs	r3, #255
 503 0086 8377     		strb	r3, [r0, #30]
 144:Core/Src/syringe.c **** 			pump->value = 0;
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 13


 504              		.loc 1 144 4 is_stmt 1 view .LVU157
 505              		.loc 1 144 16 is_stmt 0 view .LVU158
 506 0088 0023     		movs	r3, #0
 507 008a 0384     		strh	r3, [r0, #32]	@ movhi
 145:Core/Src/syringe.c **** 			pump->flag = 0;
 508              		.loc 1 145 4 is_stmt 1 view .LVU159
 509              		.loc 1 145 15 is_stmt 0 view .LVU160
 510 008c 80F82230 		strb	r3, [r0, #34]
 146:Core/Src/syringe.c **** 		  	break;
 511              		.loc 1 146 6 is_stmt 1 view .LVU161
 147:Core/Src/syringe.c **** 	}
 148:Core/Src/syringe.c **** }
 512              		.loc 1 148 1 is_stmt 0 view .LVU162
 513 0090 7047     		bx	lr
 514              		.cfi_endproc
 515              	.LFE70:
 517              		.section	.text.PUMP_ParserPacket,"ax",%progbits
 518              		.align	1
 519              		.global	PUMP_ParserPacket
 520              		.syntax unified
 521              		.thumb
 522              		.thumb_func
 524              	PUMP_ParserPacket:
 525              	.LVL35:
 526              	.LFB71:
 149:Core/Src/syringe.c **** 
 150:Core/Src/syringe.c **** uint8_t PUMP_ParserPacket(PUMP_STRUCT *pump)
 151:Core/Src/syringe.c **** {
 527              		.loc 1 151 1 is_stmt 1 view -0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 0
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 531              		.loc 1 151 1 is_stmt 0 view .LVU164
 532 0000 38B5     		push	{r3, r4, r5, lr}
 533              	.LCFI4:
 534              		.cfi_def_cfa_offset 16
 535              		.cfi_offset 3, -16
 536              		.cfi_offset 4, -12
 537              		.cfi_offset 5, -8
 538              		.cfi_offset 14, -4
 152:Core/Src/syringe.c **** 	uint16_t checkSumGet;
 539              		.loc 1 152 2 is_stmt 1 view .LVU165
 153:Core/Src/syringe.c ****     if(pump->rxbuf[Stack_Start] != 0xCC)
 540              		.loc 1 153 5 view .LVU166
 541              		.loc 1 153 19 is_stmt 0 view .LVU167
 542 0002 C37B     		ldrb	r3, [r0, #15]	@ zero_extendqisi2
 543              		.loc 1 153 7 view .LVU168
 544 0004 CC2B     		cmp	r3, #204
 545 0006 14D1     		bne	.L34
 546 0008 0446     		mov	r4, r0
 154:Core/Src/syringe.c ****     	return 0;
 155:Core/Src/syringe.c ****     if(pump->rxbuf[Stack_End] != 0xDD)
 547              		.loc 1 155 5 is_stmt 1 view .LVU169
 548              		.loc 1 155 19 is_stmt 0 view .LVU170
 549 000a 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 550              		.loc 1 155 7 view .LVU171
 551 000c DD2B     		cmp	r3, #221
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 14


 552 000e 12D1     		bne	.L35
 156:Core/Src/syringe.c ****     	return 0;
 157:Core/Src/syringe.c ****     checkSumGet = pump->rxbuf[Stack_CheckSum+1];
 553              		.loc 1 157 5 is_stmt 1 view .LVU172
 554              		.loc 1 157 17 is_stmt 0 view .LVU173
 555 0010 837D     		ldrb	r3, [r0, #22]	@ zero_extendqisi2
 556              	.LVL36:
 158:Core/Src/syringe.c ****     checkSumGet <<= 8;
 557              		.loc 1 158 5 is_stmt 1 view .LVU174
 159:Core/Src/syringe.c ****     checkSumGet |= pump->rxbuf[Stack_CheckSum];
 558              		.loc 1 159 5 view .LVU175
 559              		.loc 1 159 31 is_stmt 0 view .LVU176
 560 0012 457D     		ldrb	r5, [r0, #21]	@ zero_extendqisi2
 561              		.loc 1 159 17 view .LVU177
 562 0014 45EA0325 		orr	r5, r5, r3, lsl #8
 563              	.LVL37:
 160:Core/Src/syringe.c ****     if(checkSumGet != CALC_CheckSum(pump->rxbuf, 6))
 564              		.loc 1 160 5 is_stmt 1 view .LVU178
 565              		.loc 1 160 23 is_stmt 0 view .LVU179
 566 0018 0621     		movs	r1, #6
 567 001a 0F30     		adds	r0, r0, #15
 568              	.LVL38:
 569              		.loc 1 160 23 view .LVU180
 570 001c FFF7FEFF 		bl	CALC_CheckSum
 571              	.LVL39:
 572              		.loc 1 160 7 view .LVU181
 573 0020 A842     		cmp	r0, r5
 574 0022 01D0     		beq	.L38
 161:Core/Src/syringe.c ****     {
 162:Core/Src/syringe.c ****     	return 0;
 575              		.loc 1 162 13 view .LVU182
 576 0024 0020     		movs	r0, #0
 577 0026 05E0     		b	.L33
 578              	.L38:
 163:Core/Src/syringe.c ****     }
 164:Core/Src/syringe.c ****     PUMP_ParserStack(pump);
 579              		.loc 1 164 5 is_stmt 1 view .LVU183
 580 0028 2046     		mov	r0, r4
 581 002a FFF7FEFF 		bl	PUMP_ParserStack
 582              	.LVL40:
 165:Core/Src/syringe.c ****     return 1;
 583              		.loc 1 165 5 view .LVU184
 584              		.loc 1 165 12 is_stmt 0 view .LVU185
 585 002e 0120     		movs	r0, #1
 586 0030 00E0     		b	.L33
 587              	.LVL41:
 588              	.L34:
 154:Core/Src/syringe.c ****     if(pump->rxbuf[Stack_End] != 0xDD)
 589              		.loc 1 154 13 view .LVU186
 590 0032 0020     		movs	r0, #0
 591              	.LVL42:
 592              	.L33:
 166:Core/Src/syringe.c **** }
 593              		.loc 1 166 1 view .LVU187
 594 0034 38BD     		pop	{r3, r4, r5, pc}
 595              	.LVL43:
 596              	.L35:
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 15


 156:Core/Src/syringe.c ****     checkSumGet = pump->rxbuf[Stack_CheckSum+1];
 597              		.loc 1 156 13 view .LVU188
 598 0036 0020     		movs	r0, #0
 599              	.LVL44:
 156:Core/Src/syringe.c ****     checkSumGet = pump->rxbuf[Stack_CheckSum+1];
 600              		.loc 1 156 13 view .LVU189
 601 0038 FCE7     		b	.L33
 602              		.cfi_endproc
 603              	.LFE71:
 605              		.section	.text.PUMP_Manager,"ax",%progbits
 606              		.align	1
 607              		.global	PUMP_Manager
 608              		.syntax unified
 609              		.thumb
 610              		.thumb_func
 612              	PUMP_Manager:
 613              	.LVL45:
 614              	.LFB72:
 167:Core/Src/syringe.c **** 
 168:Core/Src/syringe.c **** void PUMP_Manager(PUMP_STRUCT *pump)
 169:Core/Src/syringe.c **** {
 615              		.loc 1 169 1 is_stmt 1 view -0
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 16
 618              		@ frame_needed = 0, uses_anonymous_args = 0
 619              		.loc 1 169 1 is_stmt 0 view .LVU191
 620 0000 70B5     		push	{r4, r5, r6, lr}
 621              	.LCFI5:
 622              		.cfi_def_cfa_offset 16
 623              		.cfi_offset 4, -16
 624              		.cfi_offset 5, -12
 625              		.cfi_offset 6, -8
 626              		.cfi_offset 14, -4
 627 0002 84B0     		sub	sp, sp, #16
 628              	.LCFI6:
 629              		.cfi_def_cfa_offset 32
 630 0004 0546     		mov	r5, r0
 170:Core/Src/syringe.c **** 	uint8_t c;
 631              		.loc 1 170 2 is_stmt 1 view .LVU192
 171:Core/Src/syringe.c ****   	uint32_t writelen = 0, i=0;
 632              		.loc 1 171 4 view .LVU193
 633              	.LVL46:
 172:Core/Src/syringe.c ****   	uint8_t getBuff[9];
 634              		.loc 1 172 4 view .LVU194
 173:Core/Src/syringe.c **** 	if((HAL_GetTick() - u2_rxTick > 100) && (u2_rxFlag))
 635              		.loc 1 173 2 view .LVU195
 636              		.loc 1 173 6 is_stmt 0 view .LVU196
 637 0006 FFF7FEFF 		bl	HAL_GetTick
 638              	.LVL47:
 639              		.loc 1 173 20 view .LVU197
 640 000a 184B     		ldr	r3, .L46
 641 000c 1B68     		ldr	r3, [r3]
 642 000e C31A     		subs	r3, r0, r3
 643              		.loc 1 173 4 view .LVU198
 644 0010 642B     		cmp	r3, #100
 645 0012 02D9     		bls	.L39
 646              		.loc 1 173 39 discriminator 1 view .LVU199
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 16


 647 0014 164B     		ldr	r3, .L46+4
 648 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 649 0018 0BB9     		cbnz	r3, .L45
 650              	.LVL48:
 651              	.L39:
 174:Core/Src/syringe.c **** 	{
 175:Core/Src/syringe.c **** 		u2_rxFlag = 0;
 176:Core/Src/syringe.c **** 		u2_rxTick = HAL_GetTick();
 177:Core/Src/syringe.c **** 		while((ringbuf_get(&u2_rxRb, &c))&&(writelen < 9))
 178:Core/Src/syringe.c **** 		{
 179:Core/Src/syringe.c **** 		  	writelen++;
 180:Core/Src/syringe.c **** 		  	getBuff[i++] = c;
 181:Core/Src/syringe.c **** 		}
 182:Core/Src/syringe.c **** 		if(writelen != 0)
 183:Core/Src/syringe.c **** 		{
 184:Core/Src/syringe.c **** 			memcpy(pump->rxbuf, getBuff, 8);
 185:Core/Src/syringe.c **** 			if(PUMP_ParserPacket(pump))
 186:Core/Src/syringe.c **** 			{
 187:Core/Src/syringe.c **** 				//printf("State: 0x%02x\n", pump->state);
 188:Core/Src/syringe.c **** 				//printf("value: 0x%04x\n", pump->value);
 189:Core/Src/syringe.c **** 			}
 190:Core/Src/syringe.c **** 			//printf("cmd: 0x%02x\n", getBuff[5]);
 191:Core/Src/syringe.c **** 			//printf("%s", getBuff);
 192:Core/Src/syringe.c **** 			//HAL_UART_Transmit(&huart1, getBuff, 8, 100);
 193:Core/Src/syringe.c **** 		}
 194:Core/Src/syringe.c **** 	}
 195:Core/Src/syringe.c **** }
 652              		.loc 1 195 1 view .LVU200
 653 001a 04B0     		add	sp, sp, #16
 654              	.LCFI7:
 655              		.cfi_remember_state
 656              		.cfi_def_cfa_offset 16
 657              		@ sp needed
 658 001c 70BD     		pop	{r4, r5, r6, pc}
 659              	.LVL49:
 660              	.L45:
 661              	.LCFI8:
 662              		.cfi_restore_state
 175:Core/Src/syringe.c **** 		u2_rxTick = HAL_GetTick();
 663              		.loc 1 175 3 is_stmt 1 view .LVU201
 175:Core/Src/syringe.c **** 		u2_rxTick = HAL_GetTick();
 664              		.loc 1 175 13 is_stmt 0 view .LVU202
 665 001e 0024     		movs	r4, #0
 666 0020 134B     		ldr	r3, .L46+4
 667 0022 1C70     		strb	r4, [r3]
 176:Core/Src/syringe.c **** 		while((ringbuf_get(&u2_rxRb, &c))&&(writelen < 9))
 668              		.loc 1 176 3 is_stmt 1 view .LVU203
 176:Core/Src/syringe.c **** 		while((ringbuf_get(&u2_rxRb, &c))&&(writelen < 9))
 669              		.loc 1 176 15 is_stmt 0 view .LVU204
 670 0024 FFF7FEFF 		bl	HAL_GetTick
 671              	.LVL50:
 176:Core/Src/syringe.c **** 		while((ringbuf_get(&u2_rxRb, &c))&&(writelen < 9))
 672              		.loc 1 176 13 view .LVU205
 673 0028 104B     		ldr	r3, .L46
 674 002a 1860     		str	r0, [r3]
 177:Core/Src/syringe.c **** 		{
 675              		.loc 1 177 3 is_stmt 1 view .LVU206
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 17


 171:Core/Src/syringe.c ****   	uint8_t getBuff[9];
 676              		.loc 1 171 27 is_stmt 0 view .LVU207
 677 002c 2646     		mov	r6, r4
 177:Core/Src/syringe.c **** 		{
 678              		.loc 1 177 8 view .LVU208
 679 002e 08E0     		b	.L41
 680              	.LVL51:
 681              	.L43:
 179:Core/Src/syringe.c **** 		  	getBuff[i++] = c;
 682              		.loc 1 179 6 is_stmt 1 view .LVU209
 179:Core/Src/syringe.c **** 		  	getBuff[i++] = c;
 683              		.loc 1 179 14 is_stmt 0 view .LVU210
 684 0030 0134     		adds	r4, r4, #1
 685              	.LVL52:
 180:Core/Src/syringe.c **** 		}
 686              		.loc 1 180 6 is_stmt 1 view .LVU211
 180:Core/Src/syringe.c **** 		}
 687              		.loc 1 180 19 is_stmt 0 view .LVU212
 688 0032 06F11003 		add	r3, r6, #16
 689 0036 6B44     		add	r3, sp, r3
 690 0038 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 691 003c 03F80C2C 		strb	r2, [r3, #-12]
 180:Core/Src/syringe.c **** 		}
 692              		.loc 1 180 15 view .LVU213
 693 0040 0136     		adds	r6, r6, #1
 694              	.LVL53:
 695              	.L41:
 177:Core/Src/syringe.c **** 		{
 696              		.loc 1 177 8 is_stmt 1 view .LVU214
 177:Core/Src/syringe.c **** 		{
 697              		.loc 1 177 10 is_stmt 0 view .LVU215
 698 0042 0DF10F01 		add	r1, sp, #15
 699 0046 0B48     		ldr	r0, .L46+8
 700 0048 FFF7FEFF 		bl	ringbuf_get
 701              	.LVL54:
 177:Core/Src/syringe.c **** 		{
 702              		.loc 1 177 8 view .LVU216
 703 004c 08B1     		cbz	r0, .L42
 177:Core/Src/syringe.c **** 		{
 704              		.loc 1 177 36 discriminator 1 view .LVU217
 705 004e 082C     		cmp	r4, #8
 706 0050 EED9     		bls	.L43
 707              	.L42:
 182:Core/Src/syringe.c **** 		{
 708              		.loc 1 182 3 is_stmt 1 view .LVU218
 182:Core/Src/syringe.c **** 		{
 709              		.loc 1 182 5 is_stmt 0 view .LVU219
 710 0052 002C     		cmp	r4, #0
 711 0054 E1D0     		beq	.L39
 184:Core/Src/syringe.c **** 			if(PUMP_ParserPacket(pump))
 712              		.loc 1 184 4 is_stmt 1 view .LVU220
 713 0056 01AB     		add	r3, sp, #4
 714 0058 03CB     		ldmia	r3!, {r0, r1}
 715 005a C5F80F00 		str	r0, [r5, #15]	@ unaligned
 716 005e C5F81310 		str	r1, [r5, #19]	@ unaligned
 185:Core/Src/syringe.c **** 			{
 717              		.loc 1 185 4 view .LVU221
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 18


 185:Core/Src/syringe.c **** 			{
 718              		.loc 1 185 7 is_stmt 0 view .LVU222
 719 0062 2846     		mov	r0, r5
 720 0064 FFF7FEFF 		bl	PUMP_ParserPacket
 721              	.LVL55:
 189:Core/Src/syringe.c **** 			//printf("cmd: 0x%02x\n", getBuff[5]);
 722              		.loc 1 189 4 is_stmt 1 view .LVU223
 723              		.loc 1 195 1 is_stmt 0 view .LVU224
 724 0068 D7E7     		b	.L39
 725              	.L47:
 726 006a 00BF     		.align	2
 727              	.L46:
 728 006c 00000000 		.word	.LANCHOR5
 729 0070 00000000 		.word	.LANCHOR1
 730 0074 00000000 		.word	.LANCHOR3
 731              		.cfi_endproc
 732              	.LFE72:
 734              		.section	.text.PUMP_Reset,"ax",%progbits
 735              		.align	1
 736              		.global	PUMP_Reset
 737              		.syntax unified
 738              		.thumb
 739              		.thumb_func
 741              	PUMP_Reset:
 742              	.LVL56:
 743              	.LFB73:
 196:Core/Src/syringe.c **** 
 197:Core/Src/syringe.c **** void PUMP_Reset(PUMP_STRUCT *pump)
 198:Core/Src/syringe.c **** {
 744              		.loc 1 198 1 is_stmt 1 view -0
 745              		.cfi_startproc
 746              		@ args = 0, pretend = 0, frame = 0
 747              		@ frame_needed = 0, uses_anonymous_args = 0
 748              		.loc 1 198 1 is_stmt 0 view .LVU226
 749 0000 08B5     		push	{r3, lr}
 750              	.LCFI9:
 751              		.cfi_def_cfa_offset 8
 752              		.cfi_offset 3, -8
 753              		.cfi_offset 14, -4
 199:Core/Src/syringe.c **** 	PUMP_SendCmd8(pump, PUMP_RESET, 0);
 754              		.loc 1 199 2 is_stmt 1 view .LVU227
 755 0002 0022     		movs	r2, #0
 756 0004 4521     		movs	r1, #69
 757 0006 FFF7FEFF 		bl	PUMP_SendCmd8
 758              	.LVL57:
 200:Core/Src/syringe.c **** }
 759              		.loc 1 200 1 is_stmt 0 view .LVU228
 760 000a 08BD     		pop	{r3, pc}
 761              		.cfi_endproc
 762              	.LFE73:
 764              		.section	.text.PUMP_Stop,"ax",%progbits
 765              		.align	1
 766              		.global	PUMP_Stop
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	PUMP_Stop:
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 19


 772              	.LVL58:
 773              	.LFB74:
 201:Core/Src/syringe.c **** 
 202:Core/Src/syringe.c **** void PUMP_Stop(PUMP_STRUCT *pump)
 203:Core/Src/syringe.c **** {
 774              		.loc 1 203 1 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 778              		.loc 1 203 1 is_stmt 0 view .LVU230
 779 0000 08B5     		push	{r3, lr}
 780              	.LCFI10:
 781              		.cfi_def_cfa_offset 8
 782              		.cfi_offset 3, -8
 783              		.cfi_offset 14, -4
 204:Core/Src/syringe.c **** 	PUMP_SendCmd8(pump, PUMP_STOP, 0);
 784              		.loc 1 204 2 is_stmt 1 view .LVU231
 785 0002 0022     		movs	r2, #0
 786 0004 4921     		movs	r1, #73
 787 0006 FFF7FEFF 		bl	PUMP_SendCmd8
 788              	.LVL59:
 205:Core/Src/syringe.c **** }
 789              		.loc 1 205 1 is_stmt 0 view .LVU232
 790 000a 08BD     		pop	{r3, pc}
 791              		.cfi_endproc
 792              	.LFE74:
 794              		.section	.text.PUMP_Inquiry,"ax",%progbits
 795              		.align	1
 796              		.global	PUMP_Inquiry
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 801              	PUMP_Inquiry:
 802              	.LVL60:
 803              	.LFB75:
 206:Core/Src/syringe.c **** 
 207:Core/Src/syringe.c **** void PUMP_Inquiry(PUMP_STRUCT *pump)
 208:Core/Src/syringe.c **** {
 804              		.loc 1 208 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		.loc 1 208 1 is_stmt 0 view .LVU234
 809 0000 08B5     		push	{r3, lr}
 810              	.LCFI11:
 811              		.cfi_def_cfa_offset 8
 812              		.cfi_offset 3, -8
 813              		.cfi_offset 14, -4
 209:Core/Src/syringe.c **** 	PUMP_SendCmd8(pump, PUMP_STATUS, 0);
 814              		.loc 1 209 2 is_stmt 1 view .LVU235
 815 0002 0022     		movs	r2, #0
 816 0004 4A21     		movs	r1, #74
 817 0006 FFF7FEFF 		bl	PUMP_SendCmd8
 818              	.LVL61:
 210:Core/Src/syringe.c **** }
 819              		.loc 1 210 1 is_stmt 0 view .LVU236
 820 000a 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 20


 821              		.cfi_endproc
 822              	.LFE75:
 824              		.global	__aeabi_fcmplt
 825              		.global	__aeabi_fcmpgt
 826              		.global	__aeabi_fmul
 827              		.global	__aeabi_f2d
 828              		.global	__aeabi_ddiv
 829              		.global	__aeabi_d2uiz
 830              		.section	.text.XYLANH_Suction,"ax",%progbits
 831              		.align	1
 832              		.global	XYLANH_Suction
 833              		.syntax unified
 834              		.thumb
 835              		.thumb_func
 837              	XYLANH_Suction:
 838              	.LVL62:
 839              	.LFB76:
 211:Core/Src/syringe.c **** 
 212:Core/Src/syringe.c **** void XYLANH_Suction(float ml)
 213:Core/Src/syringe.c **** {
 840              		.loc 1 213 1 is_stmt 1 view -0
 841              		.cfi_startproc
 842              		@ args = 0, pretend = 0, frame = 0
 843              		@ frame_needed = 0, uses_anonymous_args = 0
 844              		.loc 1 213 1 is_stmt 0 view .LVU238
 845 0000 10B5     		push	{r4, lr}
 846              	.LCFI12:
 847              		.cfi_def_cfa_offset 8
 848              		.cfi_offset 4, -8
 849              		.cfi_offset 14, -4
 850 0002 0446     		mov	r4, r0
 214:Core/Src/syringe.c **** 	uint16_t number;
 851              		.loc 1 214 2 is_stmt 1 view .LVU239
 215:Core/Src/syringe.c **** 	if((ml < 0.0) || (ml > 5.0)) return;
 852              		.loc 1 215 2 view .LVU240
 853              		.loc 1 215 4 is_stmt 0 view .LVU241
 854 0004 0021     		movs	r1, #0
 855 0006 FFF7FEFF 		bl	__aeabi_fcmplt
 856              	.LVL63:
 857              		.loc 1 215 4 view .LVU242
 858 000a 20B9     		cbnz	r0, .L54
 859              		.loc 1 215 16 discriminator 2 view .LVU243
 860 000c 0E49     		ldr	r1, .L58+8
 861 000e 2046     		mov	r0, r4
 862 0010 FFF7FEFF 		bl	__aeabi_fcmpgt
 863              	.LVL64:
 864 0014 00B1     		cbz	r0, .L57
 865              	.L54:
 216:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 217:Core/Src/syringe.c **** 	//printf("number: 0x%04x\n", number);
 218:Core/Src/syringe.c **** 	PUMP_SendCmd8(&xylanh, XYLANH_CCW, number);
 219:Core/Src/syringe.c **** }
 866              		.loc 1 219 1 view .LVU244
 867 0016 10BD     		pop	{r4, pc}
 868              	.LVL65:
 869              	.L57:
 216:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 21


 870              		.loc 1 216 2 is_stmt 1 view .LVU245
 216:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 871              		.loc 1 216 24 is_stmt 0 view .LVU246
 872 0018 0C49     		ldr	r1, .L58+12
 873 001a 2046     		mov	r0, r4
 874 001c FFF7FEFF 		bl	__aeabi_fmul
 875              	.LVL66:
 876 0020 FFF7FEFF 		bl	__aeabi_f2d
 877              	.LVL67:
 216:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 878              		.loc 1 216 30 view .LVU247
 879 0024 06A3     		adr	r3, .L58
 880 0026 D3E90023 		ldrd	r2, [r3]
 881 002a FFF7FEFF 		bl	__aeabi_ddiv
 882              	.LVL68:
 216:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 883              		.loc 1 216 9 view .LVU248
 884 002e FFF7FEFF 		bl	__aeabi_d2uiz
 885              	.LVL69:
 218:Core/Src/syringe.c **** }
 886              		.loc 1 218 2 is_stmt 1 view .LVU249
 887 0032 82B2     		uxth	r2, r0
 888 0034 4D21     		movs	r1, #77
 889 0036 0648     		ldr	r0, .L58+16
 890              	.LVL70:
 218:Core/Src/syringe.c **** }
 891              		.loc 1 218 2 is_stmt 0 view .LVU250
 892 0038 FFF7FEFF 		bl	PUMP_SendCmd8
 893              	.LVL71:
 218:Core/Src/syringe.c **** }
 894              		.loc 1 218 2 view .LVU251
 895 003c EBE7     		b	.L54
 896              	.L59:
 897 003e 00BF     		.align	3
 898              	.L58:
 899 0040 A089B0E1 		.word	-508524128
 900 0044 E995DA3F 		.word	1071289833
 901 0048 0000A040 		.word	1084227584
 902 004c 00007A44 		.word	1148846080
 903 0050 00000000 		.word	.LANCHOR6
 904              		.cfi_endproc
 905              	.LFE76:
 907              		.section	.text.XYLANH_Injection,"ax",%progbits
 908              		.align	1
 909              		.global	XYLANH_Injection
 910              		.syntax unified
 911              		.thumb
 912              		.thumb_func
 914              	XYLANH_Injection:
 915              	.LVL72:
 916              	.LFB77:
 220:Core/Src/syringe.c **** 
 221:Core/Src/syringe.c **** void XYLANH_Injection(float ml)
 222:Core/Src/syringe.c **** {
 917              		.loc 1 222 1 is_stmt 1 view -0
 918              		.cfi_startproc
 919              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 22


 920              		@ frame_needed = 0, uses_anonymous_args = 0
 921              		.loc 1 222 1 is_stmt 0 view .LVU253
 922 0000 10B5     		push	{r4, lr}
 923              	.LCFI13:
 924              		.cfi_def_cfa_offset 8
 925              		.cfi_offset 4, -8
 926              		.cfi_offset 14, -4
 927 0002 0446     		mov	r4, r0
 223:Core/Src/syringe.c **** 	uint16_t number;
 928              		.loc 1 223 2 is_stmt 1 view .LVU254
 224:Core/Src/syringe.c **** 	if((ml < 0.0) || (ml > 5.0)) return;
 929              		.loc 1 224 2 view .LVU255
 930              		.loc 1 224 4 is_stmt 0 view .LVU256
 931 0004 0021     		movs	r1, #0
 932 0006 FFF7FEFF 		bl	__aeabi_fcmplt
 933              	.LVL73:
 934              		.loc 1 224 4 view .LVU257
 935 000a 20B9     		cbnz	r0, .L60
 936              		.loc 1 224 16 discriminator 2 view .LVU258
 937 000c 0E49     		ldr	r1, .L64+8
 938 000e 2046     		mov	r0, r4
 939 0010 FFF7FEFF 		bl	__aeabi_fcmpgt
 940              	.LVL74:
 941 0014 00B1     		cbz	r0, .L63
 942              	.L60:
 225:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 226:Core/Src/syringe.c **** 	PUMP_SendCmd8(&xylanh, XYLANH_CW, number);
 227:Core/Src/syringe.c **** }
 943              		.loc 1 227 1 view .LVU259
 944 0016 10BD     		pop	{r4, pc}
 945              	.LVL75:
 946              	.L63:
 225:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 947              		.loc 1 225 2 is_stmt 1 view .LVU260
 225:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 948              		.loc 1 225 24 is_stmt 0 view .LVU261
 949 0018 0C49     		ldr	r1, .L64+12
 950 001a 2046     		mov	r0, r4
 951 001c FFF7FEFF 		bl	__aeabi_fmul
 952              	.LVL76:
 953 0020 FFF7FEFF 		bl	__aeabi_f2d
 954              	.LVL77:
 225:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 955              		.loc 1 225 30 view .LVU262
 956 0024 06A3     		adr	r3, .L64
 957 0026 D3E90023 		ldrd	r2, [r3]
 958 002a FFF7FEFF 		bl	__aeabi_ddiv
 959              	.LVL78:
 225:Core/Src/syringe.c **** 	number = (uint16_t)(ml*1000 / 0.4154);
 960              		.loc 1 225 9 view .LVU263
 961 002e FFF7FEFF 		bl	__aeabi_d2uiz
 962              	.LVL79:
 226:Core/Src/syringe.c **** }
 963              		.loc 1 226 2 is_stmt 1 view .LVU264
 964 0032 82B2     		uxth	r2, r0
 965 0034 4221     		movs	r1, #66
 966 0036 0648     		ldr	r0, .L64+16
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 23


 967              	.LVL80:
 226:Core/Src/syringe.c **** }
 968              		.loc 1 226 2 is_stmt 0 view .LVU265
 969 0038 FFF7FEFF 		bl	PUMP_SendCmd8
 970              	.LVL81:
 226:Core/Src/syringe.c **** }
 971              		.loc 1 226 2 view .LVU266
 972 003c EBE7     		b	.L60
 973              	.L65:
 974 003e 00BF     		.align	3
 975              	.L64:
 976 0040 A089B0E1 		.word	-508524128
 977 0044 E995DA3F 		.word	1071289833
 978 0048 0000A040 		.word	1084227584
 979 004c 00007A44 		.word	1148846080
 980 0050 00000000 		.word	.LANCHOR6
 981              		.cfi_endproc
 982              	.LFE77:
 984              		.section	.rodata.VALVE_Run.str1.4,"aMS",%progbits,1
 985              		.align	2
 986              	.LC0:
 987 0000 76616C76 		.ascii	"valve pos: 0x%02x\012\000"
 987      6520706F 
 987      733A2030 
 987      78253032 
 987      780A00
 988              		.section	.text.VALVE_Run,"ax",%progbits
 989              		.align	1
 990              		.global	VALVE_Run
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 995              	VALVE_Run:
 996              	.LVL82:
 997              	.LFB78:
 228:Core/Src/syringe.c **** 
 229:Core/Src/syringe.c **** void VALVE_Run(uint8_t pos)
 230:Core/Src/syringe.c **** {
 998              		.loc 1 230 1 is_stmt 1 view -0
 999              		.cfi_startproc
 1000              		@ args = 0, pretend = 0, frame = 0
 1001              		@ frame_needed = 0, uses_anonymous_args = 0
 1002              		.loc 1 230 1 is_stmt 0 view .LVU268
 1003 0000 10B5     		push	{r4, lr}
 1004              	.LCFI14:
 1005              		.cfi_def_cfa_offset 8
 1006              		.cfi_offset 4, -8
 1007              		.cfi_offset 14, -4
 1008 0002 0446     		mov	r4, r0
 231:Core/Src/syringe.c **** 	//if((pos <= 0x00) || (pos > 0x0C)) return;
 232:Core/Src/syringe.c **** 	printf("valve pos: 0x%02x\n", pos);
 1009              		.loc 1 232 2 is_stmt 1 view .LVU269
 1010 0004 0146     		mov	r1, r0
 1011 0006 0448     		ldr	r0, .L68
 1012              	.LVL83:
 1013              		.loc 1 232 2 is_stmt 0 view .LVU270
 1014 0008 FFF7FEFF 		bl	printf
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 24


 1015              	.LVL84:
 233:Core/Src/syringe.c **** 	PUMP_SendCmd8(&valve, VALVE_RUN, pos);
 1016              		.loc 1 233 2 is_stmt 1 view .LVU271
 1017 000c 2246     		mov	r2, r4
 1018 000e 4421     		movs	r1, #68
 1019 0010 0248     		ldr	r0, .L68+4
 1020 0012 FFF7FEFF 		bl	PUMP_SendCmd8
 1021              	.LVL85:
 234:Core/Src/syringe.c **** }
 1022              		.loc 1 234 1 is_stmt 0 view .LVU272
 1023 0016 10BD     		pop	{r4, pc}
 1024              	.L69:
 1025              		.align	2
 1026              	.L68:
 1027 0018 00000000 		.word	.LC0
 1028 001c 00000000 		.word	.LANCHOR7
 1029              		.cfi_endproc
 1030              	.LFE78:
 1032              		.section	.text.XYLANH_Status,"ax",%progbits
 1033              		.align	1
 1034              		.global	XYLANH_Status
 1035              		.syntax unified
 1036              		.thumb
 1037              		.thumb_func
 1039              	XYLANH_Status:
 1040              	.LFB79:
 235:Core/Src/syringe.c **** 
 236:Core/Src/syringe.c **** uint8_t XYLANH_Status(void)
 237:Core/Src/syringe.c **** {
 1041              		.loc 1 237 1 is_stmt 1 view -0
 1042              		.cfi_startproc
 1043              		@ args = 0, pretend = 0, frame = 0
 1044              		@ frame_needed = 0, uses_anonymous_args = 0
 1045              		@ link register save eliminated.
 238:Core/Src/syringe.c **** 
 239:Core/Src/syringe.c **** }
 1046              		.loc 1 239 1 view .LVU274
 1047 0000 7047     		bx	lr
 1048              		.cfi_endproc
 1049              	.LFE79:
 1051              		.section	.text.VALVE_Status,"ax",%progbits
 1052              		.align	1
 1053              		.global	VALVE_Status
 1054              		.syntax unified
 1055              		.thumb
 1056              		.thumb_func
 1058              	VALVE_Status:
 1059              	.LFB80:
 240:Core/Src/syringe.c **** 
 241:Core/Src/syringe.c **** uint8_t VALVE_Status(void)
 242:Core/Src/syringe.c **** {
 1060              		.loc 1 242 1 view -0
 1061              		.cfi_startproc
 1062              		@ args = 0, pretend = 0, frame = 0
 1063              		@ frame_needed = 0, uses_anonymous_args = 0
 1064              		@ link register save eliminated.
 243:Core/Src/syringe.c **** 
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 25


 244:Core/Src/syringe.c **** }
 1065              		.loc 1 244 1 view .LVU276
 1066 0000 7047     		bx	lr
 1067              		.cfi_endproc
 1068              	.LFE80:
 1070              		.global	u2_rxRbBuf
 1071              		.global	u2_rxRb
 1072              		.global	u2_rxTick
 1073              		.global	u2_rxFlag
 1074              		.global	valve
 1075              		.global	xylanh
 1076              		.section	.bss.u2_rxFlag,"aw",%nobits
 1077              		.set	.LANCHOR1,. + 0
 1080              	u2_rxFlag:
 1081 0000 00       		.space	1
 1082              		.section	.bss.u2_rxRb,"aw",%nobits
 1083              		.align	2
 1084              		.set	.LANCHOR3,. + 0
 1087              	u2_rxRb:
 1088 0000 00000000 		.space	16
 1088      00000000 
 1088      00000000 
 1088      00000000 
 1089              		.section	.bss.u2_rxRbBuf,"aw",%nobits
 1090              		.align	2
 1091              		.set	.LANCHOR2,. + 0
 1094              	u2_rxRbBuf:
 1095 0000 00000000 		.space	128
 1095      00000000 
 1095      00000000 
 1095      00000000 
 1095      00000000 
 1096              		.section	.bss.u2_rxTick,"aw",%nobits
 1097              		.align	2
 1098              		.set	.LANCHOR5,. + 0
 1101              	u2_rxTick:
 1102 0000 00000000 		.space	4
 1103              		.section	.bss.valve,"aw",%nobits
 1104              		.align	2
 1105              		.set	.LANCHOR7,. + 0
 1108              	valve:
 1109 0000 00000000 		.space	36
 1109      00000000 
 1109      00000000 
 1109      00000000 
 1109      00000000 
 1110              		.section	.bss.xylanh,"aw",%nobits
 1111              		.align	2
 1112              		.set	.LANCHOR6,. + 0
 1115              	xylanh:
 1116 0000 00000000 		.space	36
 1116      00000000 
 1116      00000000 
 1116      00000000 
 1116      00000000 
 1117              		.section	.rodata.defBufCmd,"a"
 1118              		.align	2
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 26


 1119              		.set	.LANCHOR0,. + 0
 1122              	defBufCmd:
 1123 0000 CC002700 		.ascii	"\314\000'\000\000\335\320\001"
 1123      00DDD001 
 1124              		.section	.rodata.defBufFac,"a"
 1125              		.align	2
 1126              		.set	.LANCHOR4,. + 0
 1129              	defBufFac:
 1130 0000 CC0000FF 		.ascii	"\314\000\000\377\356\273\252\000\000\000\000\335\373"
 1130      EEBBAA00 
 1130      000000DD 
 1130      FB
 1131 000d 04       		.ascii	"\004"
 1132              		.text
 1133              	.Letext0:
 1134              		.file 2 "e:\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\machine\\_default_typ
 1135              		.file 3 "e:\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1136              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 1137              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1138              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1139              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1140              		.file 8 "Core/Inc/ringbuf.h"
 1141              		.file 9 "Core/Inc/syringe.h"
 1142              		.file 10 "Core/Inc/usart.h"
 1143              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1144              		.file 12 "<built-in>"
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 27


DEFINED SYMBOLS
                            *ABS*:00000000 syringe.c
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:18     .text.PUMP_Init:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:24     .text.PUMP_Init:00000000 PUMP_Init
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:75     .text.PUMP_Init:00000030 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:83     .text.CALC_CheckSum:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:89     .text.CALC_CheckSum:00000000 CALC_CheckSum
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:144    .text.PUMP_Tx:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:150    .text.PUMP_Tx:00000000 PUMP_Tx
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:179    .text.PUMP_Tx:00000010 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:184    .text.PUMP_SendCmd8:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:190    .text.PUMP_SendCmd8:00000000 PUMP_SendCmd8
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:257    .text.PUMP_SendCmd8:0000003c $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:262    .text.PUMP_SendCmd14:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:268    .text.PUMP_SendCmd14:00000000 PUMP_SendCmd14
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:351    .text.PUMP_SendCmd14:00000054 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:356    .text.PUMP_ParserStack:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:362    .text.PUMP_ParserStack:00000000 PUMP_ParserStack
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:392    .text.PUMP_ParserStack:00000016 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:518    .text.PUMP_ParserPacket:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:524    .text.PUMP_ParserPacket:00000000 PUMP_ParserPacket
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:606    .text.PUMP_Manager:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:612    .text.PUMP_Manager:00000000 PUMP_Manager
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:728    .text.PUMP_Manager:0000006c $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:735    .text.PUMP_Reset:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:741    .text.PUMP_Reset:00000000 PUMP_Reset
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:765    .text.PUMP_Stop:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:771    .text.PUMP_Stop:00000000 PUMP_Stop
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:795    .text.PUMP_Inquiry:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:801    .text.PUMP_Inquiry:00000000 PUMP_Inquiry
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:831    .text.XYLANH_Suction:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:837    .text.XYLANH_Suction:00000000 XYLANH_Suction
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:899    .text.XYLANH_Suction:00000040 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:908    .text.XYLANH_Injection:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:914    .text.XYLANH_Injection:00000000 XYLANH_Injection
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:976    .text.XYLANH_Injection:00000040 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:985    .rodata.VALVE_Run.str1.4:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:989    .text.VALVE_Run:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:995    .text.VALVE_Run:00000000 VALVE_Run
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1027   .text.VALVE_Run:00000018 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1033   .text.XYLANH_Status:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1039   .text.XYLANH_Status:00000000 XYLANH_Status
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1052   .text.VALVE_Status:00000000 $t
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1058   .text.VALVE_Status:00000000 VALVE_Status
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1094   .bss.u2_rxRbBuf:00000000 u2_rxRbBuf
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1087   .bss.u2_rxRb:00000000 u2_rxRb
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1101   .bss.u2_rxTick:00000000 u2_rxTick
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1080   .bss.u2_rxFlag:00000000 u2_rxFlag
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1108   .bss.valve:00000000 valve
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1115   .bss.xylanh:00000000 xylanh
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1081   .bss.u2_rxFlag:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1083   .bss.u2_rxRb:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1090   .bss.u2_rxRbBuf:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1097   .bss.u2_rxTick:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1104   .bss.valve:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1111   .bss.xylanh:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1118   .rodata.defBufCmd:00000000 $d
ARM GAS  C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s 			page 28


C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1122   .rodata.defBufCmd:00000000 defBufCmd
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1125   .rodata.defBufFac:00000000 $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:1129   .rodata.defBufFac:00000000 defBufFac
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:397    .text.PUMP_ParserStack:0000001b $d
C:\Users\BLACK_~1\AppData\Local\Temp\ccd0bhlH.s:397    .text.PUMP_ParserStack:0000001c $t

UNDEFINED SYMBOLS
ringbuf_init
MX_USART2_UART_Init
HAL_UART_Transmit
huart2
HAL_GetTick
ringbuf_get
__aeabi_fcmplt
__aeabi_fcmpgt
__aeabi_fmul
__aeabi_f2d
__aeabi_ddiv
__aeabi_d2uiz
printf
